{% extends "layouts/main.njk" %}
{% block body %}

      <h3 class="text-white text-center" style="margin:6px 0px 0px 0px;"></h3>
      <hr style="border-top: 1px solid #5375BD;">

    <p><button type="submit" class="btn btn-my btn-lg btn-block" id="sharebutton" onclick="return share()">Share MDN!</button></p>

    <p class="text-white text-center"> oppure <br> copia il testo e usalo per invitare il tuo amico</p>
    <input type="text" value="Hello World" id="myInput" readonly>
    <button type="submit" class="btn btn-my btn-lg btn-block" id="copybutton" onclick="return copy()">Copia</button>

    <p class="result text-white text-center"></p>

    <script  type="text/javascript">
      function share() {
        let shareData = {
          title: 'MDN',
          text: 'Learn web development on MDN!',
          url: 'https://developer.mozilla.org',
        }

        resultPara = document.querySelector('.result');
        if (navigator.canShare) {
          navigator.share(shareData)
            .then(() =>
              resultPara.textContent = 'MDN shared successfully'
            )
            .catch((e) =>
              resultPara.textContent = 'Error: ' + e
            )
        } else {
          resultPara.textContent = "Use email client.";
          window.location.href = "mailto:?subject=Ciao&body={{htmlMail}}";

        }
      }

      function copy() {
        // Get the text field
        var copyText = document.getElementById("myInput");

        // Select the text field
        copyText.select();
        copyText.setSelectionRange(0, 99999); // For mobile devices

        // Copy the text inside the text field
        navigator.clipboard.writeText(copyText.value);
        
        // Alert the copied text
        alert("Copied the text: " + copyText.value);
}
    </script>
      
{% endblock %}

